{"ast":null,"code":"import{Bar}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';import{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);function BarGraph(input,region){var options={scales:{yAxes:{title:{display:true,text:\"Requests\",font:{size:15}},ticks:{precision:0}},xAxes:{title:{display:true,text:\"URL\",font:{size:15}}}},plugins:{legend:{position:'bottom'},title:{display:true,text:region}}};var urlLabels=Object.keys(input[region].calls);var data={labels:urlLabels,datasets:[{label:'OK',data:urlLabels.map(function(url){var ok=0;Object.keys(input[region].calls[url]).forEach(function(status){if(status<400){ok+=input[region].calls[url][status];}});return ok;}),backgroundColor:'rgba(53, 162, 235, 0.5)'},{label:'Error',data:urlLabels.map(function(url){var errorRate=0;Object.keys(input[region].calls[url]).forEach(function(status){if(status>=400){errorRate+=input[region].calls[url][status];}});return errorRate;}),backgroundColor:'rgba(255, 99, 132, 0.5)'}]};// const statusData = input[region].calls.map(d => d.status);\nreturn/*#__PURE__*/_jsx(Bar,{options:options,data:data});}export default BarGraph;","map":{"version":3,"names":["Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","register","BarGraph","input","region","options","scales","yAxes","title","display","text","font","size","ticks","precision","xAxes","plugins","legend","position","urlLabels","Object","keys","calls","data","labels","datasets","label","map","url","ok","forEach","status","backgroundColor","errorRate"],"sources":["/home/jakedevar/help_constellation/constellation-local/constellation-visualizer/src/components/Bar.js"],"sourcesContent":["import {Bar} from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\n\n\nfunction BarGraph (input, region) {\n\n  const options =  { \n    scales: {\n      yAxes: {\n        title: {\n          display: true,\n          text: \"Requests\",\n          font: {\n            size: 15\n          }\n        },\n        ticks: {\n          precision: 0\n        }\n      },\n      xAxes: {\n        title: {\n          display: true,\n          text: \"URL\",\n          font: {\n            size: 15\n          }\n        }\n      }\n    },\n    plugins: {\n      legend: {\n        position: 'bottom',\n      },\n      title: {\n        display: true,\n        text: region,\n      },\n    }\n  }\n  const urlLabels = Object.keys(input[region].calls);\n  const data = {\n    labels: urlLabels,\n    datasets: [\n      {\n        label: 'OK',\n        data: urlLabels.map((url) =>{\n          let ok = 0;\n          Object.keys(input[region].calls[url]).forEach((status) => {\n            if (status < 400) {\n              ok += input[region].calls[url][status];\n            }\n          });\n          return ok;\n        }),\n        backgroundColor: 'rgba(53, 162, 235, 0.5)',\n      },\n      {\n        label: 'Error',\n        data: urlLabels.map((url) => {\n          let errorRate = 0;\n          Object.keys(input[region].calls[url]).forEach((status) => {\n            if (status >= 400) {\n              errorRate += input[region].calls[url][status];\n            }\n          })\n          return errorRate;\n        }),\n        backgroundColor: 'rgba(255, 99, 132, 0.5)',\n      },\n    ],\n  };\n  // const statusData = input[region].calls.map(d => d.status);\n  return <Bar options={options} data={data} />;\n}\n\nexport default BarGraph;\n"],"mappings":"AAAA,OAAQA,GAAG,KAAO,iBAAiB,CACnC,OACEC,KAAK,GAAIC,QAAO,CAChBC,aAAa,CACbC,WAAW,CACXC,UAAU,CACVC,KAAK,CACLC,OAAO,CACPC,MAAM,KACD,UAAU,CAAC,2CAElBN,OAAO,CAACO,QAAQ,CACdN,aAAa,CACbC,WAAW,CACXC,UAAU,CACVC,KAAK,CACLC,OAAO,CACPC,MAAM,CACP,CAID,QAASE,SAAQ,CAAEC,KAAK,CAAEC,MAAM,CAAE,CAEhC,GAAMC,QAAO,CAAI,CACfC,MAAM,CAAE,CACNC,KAAK,CAAE,CACLC,KAAK,CAAE,CACLC,OAAO,CAAE,IAAI,CACbC,IAAI,CAAE,UAAU,CAChBC,IAAI,CAAE,CACJC,IAAI,CAAE,EACR,CACF,CAAC,CACDC,KAAK,CAAE,CACLC,SAAS,CAAE,CACb,CACF,CAAC,CACDC,KAAK,CAAE,CACLP,KAAK,CAAE,CACLC,OAAO,CAAE,IAAI,CACbC,IAAI,CAAE,KAAK,CACXC,IAAI,CAAE,CACJC,IAAI,CAAE,EACR,CACF,CACF,CACF,CAAC,CACDI,OAAO,CAAE,CACPC,MAAM,CAAE,CACNC,QAAQ,CAAE,QACZ,CAAC,CACDV,KAAK,CAAE,CACLC,OAAO,CAAE,IAAI,CACbC,IAAI,CAAEN,MACR,CACF,CACF,CAAC,CACD,GAAMe,UAAS,CAAGC,MAAM,CAACC,IAAI,CAAClB,KAAK,CAACC,MAAM,CAAC,CAACkB,KAAK,CAAC,CAClD,GAAMC,KAAI,CAAG,CACXC,MAAM,CAAEL,SAAS,CACjBM,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,IAAI,CACXH,IAAI,CAAEJ,SAAS,CAACQ,GAAG,CAAC,SAACC,GAAG,CAAI,CAC1B,GAAIC,GAAE,CAAG,CAAC,CACVT,MAAM,CAACC,IAAI,CAAClB,KAAK,CAACC,MAAM,CAAC,CAACkB,KAAK,CAACM,GAAG,CAAC,CAAC,CAACE,OAAO,CAAC,SAACC,MAAM,CAAK,CACxD,GAAIA,MAAM,CAAG,GAAG,CAAE,CAChBF,EAAE,EAAI1B,KAAK,CAACC,MAAM,CAAC,CAACkB,KAAK,CAACM,GAAG,CAAC,CAACG,MAAM,CAAC,CACxC,CACF,CAAC,CAAC,CACF,MAAOF,GAAE,CACX,CAAC,CAAC,CACFG,eAAe,CAAE,yBACnB,CAAC,CACD,CACEN,KAAK,CAAE,OAAO,CACdH,IAAI,CAAEJ,SAAS,CAACQ,GAAG,CAAC,SAACC,GAAG,CAAK,CAC3B,GAAIK,UAAS,CAAG,CAAC,CACjBb,MAAM,CAACC,IAAI,CAAClB,KAAK,CAACC,MAAM,CAAC,CAACkB,KAAK,CAACM,GAAG,CAAC,CAAC,CAACE,OAAO,CAAC,SAACC,MAAM,CAAK,CACxD,GAAIA,MAAM,EAAI,GAAG,CAAE,CACjBE,SAAS,EAAI9B,KAAK,CAACC,MAAM,CAAC,CAACkB,KAAK,CAACM,GAAG,CAAC,CAACG,MAAM,CAAC,CAC/C,CACF,CAAC,CAAC,CACF,MAAOE,UAAS,CAClB,CAAC,CAAC,CACFD,eAAe,CAAE,yBACnB,CAAC,CAEL,CAAC,CACD;AACA,mBAAO,KAAC,GAAG,EAAC,OAAO,CAAE3B,OAAQ,CAAC,IAAI,CAAEkB,IAAK,EAAG,CAC9C,CAEA,cAAerB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}