{"ast":null,"code":"import _slicedToArray from\"/home/jakedevar/help_constellation/constellation-local/constellation-visualizer/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import{useState,useEffect,useContext,createContext}from'react';import axios from'axios';import NavBar from'./components/NavBar';import CreateGraphs from'./components/CreateGraphs';import LoadingBubble from'./components/LoadingBubble';import createFormattedTests from'./utils/createFormattedTests';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var appContext=/*#__PURE__*/createContext();function App(){var _useState=useState({regions:[]}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),regions=_useState4[0],setRegions=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),shownRegion=_useState6[0],setShownRegion=_useState6[1];var _useState7=useState(\"1\"),_useState8=_slicedToArray(_useState7,2),aggTime=_useState8[0],setAggTime=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),toggleExclusion=_useState10[0],setToggleExclusion=_useState10[1];useEffect(function(){if(!shownRegion&&data.regions.length>0){setShownRegion(data.regions[data.regions.length-1]);}});// useEffect(() => {\n//   if (data.regions.length > 0) {\n//     const newData = createFormattedTests(data, aggTime, toggleExclusion);\n//     setData(newData);\n//   }\n// }, [graphMaxYAxis])\nuseEffect(function(){var dataToSet=createFormattedTests(data,aggTime,toggleExclusion);setData(dataToSet);},[toggleExclusion]);useEffect(function(){if(data.regions.length>0){var dataToSet=createFormattedTests(data,aggTime,toggleExclusion);setData(dataToSet);}else{axios.get(\"http://localhost:3002/data?time=\".concat(aggTime)).then(function(result){var dataToSet=createFormattedTests(result.data,aggTime,toggleExclusion);setData(dataToSet);setRegions(dataToSet.regions);});}},[aggTime]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css\",integrity:\"sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi\",crossOrigin:\"anonymous\"}),/*#__PURE__*/_jsxs(appContext.Provider,{value:{data:data,setData:setData,shownRegion:shownRegion,setShownRegion:setShownRegion,aggTime:aggTime,setAggTime:setAggTime,toggleExclusion:toggleExclusion,setToggleExclusion:setToggleExclusion,regions:regions},children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(NavBar,{})}),/*#__PURE__*/_jsx(\"div\",{children:!shownRegion?/*#__PURE__*/_jsx(LoadingBubble,{}):/*#__PURE__*/_jsx(CreateGraphs,{})})]})]});}export default App;","map":{"version":3,"names":["useState","useEffect","useContext","createContext","axios","NavBar","CreateGraphs","LoadingBubble","createFormattedTests","appContext","App","regions","data","setData","setRegions","shownRegion","setShownRegion","aggTime","setAggTime","toggleExclusion","setToggleExclusion","length","dataToSet","get","then","result"],"sources":["/home/jakedevar/help_constellation/constellation-local/constellation-visualizer/src/App.js"],"sourcesContent":["import './App.css';\nimport {useState, useEffect, useContext, createContext} from 'react';\nimport axios from 'axios';\nimport NavBar from './components/NavBar';\nimport CreateGraphs from './components/CreateGraphs';\nimport LoadingBubble from './components/LoadingBubble';\nimport createFormattedTests from './utils/createFormattedTests';\n\nexport const appContext = createContext();\n\nfunction App() {\n\tconst [data, setData] = useState({regions: []});\n  const [regions, setRegions] = useState([]);\n  const [shownRegion, setShownRegion] = useState()\n  const [aggTime, setAggTime] = useState(\"1\");\n  const [toggleExclusion, setToggleExclusion] = useState(true);\n\n  useEffect(() => {\n    if (!shownRegion && data.regions.length > 0) {\n      setShownRegion(data.regions[data.regions.length - 1]);\n    }\n  })\n\n  // useEffect(() => {\n  //   if (data.regions.length > 0) {\n  //     const newData = createFormattedTests(data, aggTime, toggleExclusion);\n  //     setData(newData);\n  //   }\n  // }, [graphMaxYAxis])\n\n  useEffect(() => {\n    const dataToSet = createFormattedTests(data, aggTime, toggleExclusion);\n    setData(dataToSet);\n  }, [toggleExclusion])\n\n  useEffect(() => {\n    if (data.regions.length > 0) {\n      const dataToSet = createFormattedTests(data, aggTime, toggleExclusion);\n      setData(dataToSet);\n    } else {\n      axios.get(`http://localhost:3002/data?time=${aggTime}`)\n        .then(result => {\n          const dataToSet = createFormattedTests(result.data, aggTime, toggleExclusion);\n          setData(dataToSet);\n          setRegions(dataToSet.regions);\n        })\n    }\n  }, [aggTime])\n  \n  return (\n    <div className=\"App\">\n      <link\n        rel=\"stylesheet\"\n        href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css\"\n        integrity=\"sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi\"\n        crossOrigin=\"anonymous\"\n        />\n      <appContext.Provider value={{data, setData, shownRegion, setShownRegion, aggTime, setAggTime, toggleExclusion, setToggleExclusion, regions}}>\n        <header>\n          <NavBar />\n        </header>\n        <div>\n          {!shownRegion ? <LoadingBubble /> : <CreateGraphs />}\n        </div>\n      </appContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"qKAAA,MAAO,WAAW,CAClB,OAAQA,QAAQ,CAAEC,SAAS,CAAEC,UAAU,CAAEC,aAAa,KAAO,OAAO,CACpE,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,OAAM,KAAM,qBAAqB,CACxC,MAAOC,aAAY,KAAM,2BAA2B,CACpD,MAAOC,cAAa,KAAM,4BAA4B,CACtD,MAAOC,qBAAoB,KAAM,8BAA8B,CAAC,wFAEhE,MAAO,IAAMC,WAAU,cAAGN,aAAa,EAAE,CAEzC,QAASO,IAAG,EAAG,CACd,cAAwBV,QAAQ,CAAC,CAACW,OAAO,CAAE,EAAE,CAAC,CAAC,wCAAxCC,IAAI,eAAEC,OAAO,eACnB,eAA8Bb,QAAQ,CAAC,EAAE,CAAC,yCAAnCW,OAAO,eAAEG,UAAU,eAC1B,eAAsCd,QAAQ,EAAE,yCAAzCe,WAAW,eAAEC,cAAc,eAClC,eAA8BhB,QAAQ,CAAC,GAAG,CAAC,yCAApCiB,OAAO,eAAEC,UAAU,eAC1B,eAA8ClB,QAAQ,CAAC,IAAI,CAAC,0CAArDmB,eAAe,gBAAEC,kBAAkB,gBAE1CnB,SAAS,CAAC,UAAM,CACd,GAAI,CAACc,WAAW,EAAIH,IAAI,CAACD,OAAO,CAACU,MAAM,CAAG,CAAC,CAAE,CAC3CL,cAAc,CAACJ,IAAI,CAACD,OAAO,CAACC,IAAI,CAACD,OAAO,CAACU,MAAM,CAAG,CAAC,CAAC,CAAC,CACvD,CACF,CAAC,CAAC,CAEF;AACA;AACA;AACA;AACA;AACA;AAEApB,SAAS,CAAC,UAAM,CACd,GAAMqB,UAAS,CAAGd,oBAAoB,CAACI,IAAI,CAAEK,OAAO,CAAEE,eAAe,CAAC,CACtEN,OAAO,CAACS,SAAS,CAAC,CACpB,CAAC,CAAE,CAACH,eAAe,CAAC,CAAC,CAErBlB,SAAS,CAAC,UAAM,CACd,GAAIW,IAAI,CAACD,OAAO,CAACU,MAAM,CAAG,CAAC,CAAE,CAC3B,GAAMC,UAAS,CAAGd,oBAAoB,CAACI,IAAI,CAAEK,OAAO,CAAEE,eAAe,CAAC,CACtEN,OAAO,CAACS,SAAS,CAAC,CACpB,CAAC,IAAM,CACLlB,KAAK,CAACmB,GAAG,2CAAoCN,OAAO,EAAG,CACpDO,IAAI,CAAC,SAAAC,MAAM,CAAI,CACd,GAAMH,UAAS,CAAGd,oBAAoB,CAACiB,MAAM,CAACb,IAAI,CAAEK,OAAO,CAAEE,eAAe,CAAC,CAC7EN,OAAO,CAACS,SAAS,CAAC,CAClBR,UAAU,CAACQ,SAAS,CAACX,OAAO,CAAC,CAC/B,CAAC,CAAC,CACN,CACF,CAAC,CAAE,CAACM,OAAO,CAAC,CAAC,CAEb,mBACE,aAAK,SAAS,CAAC,KAAK,wBAClB,aACE,GAAG,CAAC,YAAY,CAChB,IAAI,CAAC,yEAAyE,CAC9E,SAAS,CAAC,yEAAyE,CACnF,WAAW,CAAC,WAAW,EACrB,cACJ,MAAC,UAAU,CAAC,QAAQ,EAAC,KAAK,CAAE,CAACL,IAAI,CAAJA,IAAI,CAAEC,OAAO,CAAPA,OAAO,CAAEE,WAAW,CAAXA,WAAW,CAAEC,cAAc,CAAdA,cAAc,CAAEC,OAAO,CAAPA,OAAO,CAAEC,UAAU,CAAVA,UAAU,CAAEC,eAAe,CAAfA,eAAe,CAAEC,kBAAkB,CAAlBA,kBAAkB,CAAET,OAAO,CAAPA,OAAO,CAAE,wBAC1I,qCACE,KAAC,MAAM,IAAG,EACH,cACT,qBACG,CAACI,WAAW,cAAG,KAAC,aAAa,IAAG,cAAG,KAAC,YAAY,IAAG,EAChD,GACc,GAClB,CAEV,CAEA,cAAeL,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}