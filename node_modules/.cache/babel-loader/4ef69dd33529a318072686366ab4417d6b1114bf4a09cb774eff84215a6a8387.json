{"ast":null,"code":"import _regeneratorRuntime from\"/home/jakedevar/help_constellation/constellation-local/constellation-visualizer/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/jakedevar/help_constellation/constellation-local/constellation-visualizer/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/jakedevar/help_constellation/constellation-local/constellation-visualizer/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import{useState,useEffect}from'react';import axios from'axios';import NavBar from'./components/NavBar';import CreateGraphs from'./components/CreateGraphs';import LoadingBubble from'./components/LoadingBubble';import createFormattedTests from'./utils/createFormattedTests';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({regions:[]}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),shownRegion=_useState4[0],setShownRegion=_useState4[1];var _useState5=useState(\"1\"),_useState6=_slicedToArray(_useState5,2),aggTime=_useState6[0],setAggTime=_useState6[1];useEffect(function(){if(!shownRegion&&data.regions.length>0){setShownRegion(data.regions[data.regions.length-1]);}},[data]);useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var dataToSet;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dataToSet=createFormattedTests(data,aggTime);setData(dataToSet);case 2:case\"end\":return _context.stop();}}},_callee);}))();},[aggTime]);useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var result,dataToSet;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"http://localhost:3002/data?time=\".concat(aggTime));case 2:result=_context2.sent;dataToSet=createFormattedTests(result.data,aggTime);setData(dataToSet);case 5:case\"end\":return _context2.stop();}}},_callee2);}))();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css\",integrity:\"sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi\",crossOrigin:\"anonymous\"}),/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(NavBar,{regions:data.regions,setShownRegion:setShownRegion,setAggTime:setAggTime})}),/*#__PURE__*/_jsx(\"div\",{children:!shownRegion?/*#__PURE__*/_jsx(LoadingBubble,{}):/*#__PURE__*/_jsx(CreateGraphs,{data:data,shownRegion:shownRegion})})]});}export default App;","map":{"version":3,"names":["useState","useEffect","axios","NavBar","CreateGraphs","LoadingBubble","createFormattedTests","App","regions","data","setData","shownRegion","setShownRegion","aggTime","setAggTime","length","dataToSet","get","result"],"sources":["/home/jakedevar/help_constellation/constellation-local/constellation-visualizer/src/App.js"],"sourcesContent":["import './App.css';\nimport {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport NavBar from './components/NavBar';\nimport CreateGraphs from './components/CreateGraphs';\nimport LoadingBubble from './components/LoadingBubble';\nimport createFormattedTests from './utils/createFormattedTests';\n\nfunction App() {\n\tconst [data, setData] = useState({regions: []});\n  const [shownRegion, setShownRegion] = useState()\n  const [aggTime, setAggTime] = useState(\"1\");\n\n  useEffect(() => {\n    if (!shownRegion && data.regions.length > 0) {\n      setShownRegion(data.regions[data.regions.length - 1]);\n    }\n  }, [data])\n\n  useEffect(() => {\n    (async () => {\n      const dataToSet = createFormattedTests(data, aggTime);\n      setData(dataToSet);\n    })();\n  }, [aggTime])\n\n  useEffect(() => {\n    (async () => {\n      const result = await axios.get(`http://localhost:3002/data?time=${aggTime}`);\n      const dataToSet = createFormattedTests(result.data, aggTime);\n      setData(dataToSet);\n    })();\n  }, []);\n\n\n  return (\n    <div className=\"App\">\n      <link\n        rel=\"stylesheet\"\n        href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css\"\n        integrity=\"sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi\"\n        crossOrigin=\"anonymous\"\n        />\n      <header>\n        <NavBar regions={data.regions} setShownRegion={setShownRegion} setAggTime={setAggTime} />\n      </header>\n      <div>\n        {!shownRegion ? <LoadingBubble /> : <CreateGraphs data={data} shownRegion={shownRegion} />}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"+fAAA,MAAO,WAAW,CAClB,OAAQA,QAAQ,CAAEC,SAAS,KAAO,OAAO,CACzC,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,OAAM,KAAM,qBAAqB,CACxC,MAAOC,aAAY,KAAM,2BAA2B,CACpD,MAAOC,cAAa,KAAM,4BAA4B,CACtD,MAAOC,qBAAoB,KAAM,8BAA8B,CAAC,wFAEhE,QAASC,IAAG,EAAG,CACd,cAAwBP,QAAQ,CAAC,CAACQ,OAAO,CAAE,EAAE,CAAC,CAAC,wCAAxCC,IAAI,eAAEC,OAAO,eACnB,eAAsCV,QAAQ,EAAE,yCAAzCW,WAAW,eAAEC,cAAc,eAClC,eAA8BZ,QAAQ,CAAC,GAAG,CAAC,yCAApCa,OAAO,eAAEC,UAAU,eAE1Bb,SAAS,CAAC,UAAM,CACd,GAAI,CAACU,WAAW,EAAIF,IAAI,CAACD,OAAO,CAACO,MAAM,CAAG,CAAC,CAAE,CAC3CH,cAAc,CAACH,IAAI,CAACD,OAAO,CAACC,IAAI,CAACD,OAAO,CAACO,MAAM,CAAG,CAAC,CAAC,CAAC,CACvD,CACF,CAAC,CAAE,CAACN,IAAI,CAAC,CAAC,CAEVR,SAAS,CAAC,UAAM,CACd,0DAAC,mJACOe,SAAS,CAAGV,oBAAoB,CAACG,IAAI,CAAEI,OAAO,CAAC,CACrDH,OAAO,CAACM,SAAS,CAAC,CAAC,sDACpB,IAAG,CACN,CAAC,CAAE,CAACH,OAAO,CAAC,CAAC,CAEbZ,SAAS,CAAC,UAAM,CACd,0DAAC,sLACsBC,MAAK,CAACe,GAAG,2CAAoCJ,OAAO,EAAG,QAAtEK,MAAM,gBACNF,SAAS,CAAGV,oBAAoB,CAACY,MAAM,CAACT,IAAI,CAAEI,OAAO,CAAC,CAC5DH,OAAO,CAACM,SAAS,CAAC,CAAC,wDACpB,IAAG,CACN,CAAC,CAAE,EAAE,CAAC,CAGN,mBACE,aAAK,SAAS,CAAC,KAAK,wBAClB,aACE,GAAG,CAAC,YAAY,CAChB,IAAI,CAAC,yEAAyE,CAC9E,SAAS,CAAC,yEAAyE,CACnF,WAAW,CAAC,WAAW,EACrB,cACJ,qCACE,KAAC,MAAM,EAAC,OAAO,CAAEP,IAAI,CAACD,OAAQ,CAAC,cAAc,CAAEI,cAAe,CAAC,UAAU,CAAEE,UAAW,EAAG,EAClF,cACT,qBACG,CAACH,WAAW,cAAG,KAAC,aAAa,IAAG,cAAG,KAAC,YAAY,EAAC,IAAI,CAAEF,IAAK,CAAC,WAAW,CAAEE,WAAY,EAAG,EACtF,GACF,CAEV,CAEA,cAAeJ,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}